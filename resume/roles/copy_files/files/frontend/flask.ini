[uwsgi]
module = app:app
http = :8000
processes = 4
threads = 2
vacuum = true
die-on-term = true
logto = /var/log/flask/uwsgi.log
enable-threads = true
buffer-size = 32768
gevent = 100
master = true
worker-reload-mercy = 5
; Kill a worker that does not respond within 30 seconds (fixes page hang on refresh)
harakiri = 30
harakiri-verbose = true
; Recycle workers after 1000 requests to prevent slow memory leaks
max-requests = 1000
max-requests-delta = 100